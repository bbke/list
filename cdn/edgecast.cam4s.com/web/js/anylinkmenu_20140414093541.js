if(typeof dd_domreadycheck=="undefined"){var dd_domreadycheck=false;}var anylinkmenu={menusmap:{},preloadimages:[],effects:{delayhide:200,shadow:{enabled:true,opacity:0.3,depth:[5,5]},fade:{enabled:true,duration:500}},dimensions:{},ismobile:navigator.userAgent.match(/(iPad)|(iPhone)|(iPod)|(android)|(webOS)/i)!=null,getoffset:function(b,a){return(b.offsetParent)?b[a]+this.getoffset(b.offsetParent,a):b[a];},getoffsetof:function(a){a._offsets={left:this.getoffset(a,"offsetLeft"),top:this.getoffset(a,"offsetTop"),h:a.offsetHeight};},getdimensions:function(a){this.dimensions={anchorw:a.anchorobj.offsetWidth,anchorh:a.anchorobj.offsetHeight,docwidth:(window.innerWidth||this.standardbody.clientWidth)-20,docheight:(window.innerHeight||this.standardbody.clientHeight)-15,docscrollx:window.pageXOffset||this.standardbody.scrollLeft,docscrolly:window.pageYOffset||this.standardbody.scrollTop};if(!this.dimensions.dropmenuw){this.dimensions.dropmenuw=a.dropmenu.offsetWidth;this.dimensions.dropmenuh=a.dropmenu.offsetHeight;}},isContained:function(a,b){var b=window.event||b;var d=b.relatedTarget||((b.type=="mouseover")?b.fromElement:b.toElement);while(d&&d!=a){try{d=d.parentNode;}catch(b){d=a;}}if(d==a){return true;}else{return false;}},setopacity:function(a,b){a.style.opacity=b;if(typeof a.style.opacity!="string"){a.style.MozOpacity=b;if(document.all&&typeof a.style.filter=="string"){a.style.filter="progid:DXImageTransform.Microsoft.alpha(opacity="+b*100+")";}}},showmenu:function(b){var c=anylinkmenu.menusmap[b];clearTimeout(c.hidetimer);this.getoffsetof(c.anchorobj);this.getdimensions(c);var a=c.anchorobj._offsets.left+(c.orientation=="lr"?this.dimensions.anchorw:0);var d=c.anchorobj._offsets.top+this.dimensions.anchorh-(c.orientation=="lr"?this.dimensions.anchorh:0);if(a+this.dimensions.dropmenuw+this.effects.shadow.depth[0]>this.dimensions.docscrollx+this.dimensions.docwidth){a=a-this.dimensions.dropmenuw+(c.orientation=="lr"?-this.dimensions.anchorw:this.dimensions.anchorw);}if(d+this.dimensions.dropmenuh>this.dimensions.docscrolly+this.dimensions.docheight){d=Math.max(d-this.dimensions.dropmenuh-(c.orientation=="lr"?-this.dimensions.anchorh:this.dimensions.anchorh),this.dimensions.docscrolly);}if(this.effects.fade.enabled){this.setopacity(c.dropmenu,0);if(this.effects.shadow.enabled){this.setopacity(c.shadow,0);}}c.dropmenu.setcss({left:a+"px",top:d+"px",visibility:"visible"});if(this.effects.shadow.enabled){c.shadow.setcss({left:a+anylinkmenu.effects.shadow.depth[0]+"px",top:d+anylinkmenu.effects.shadow.depth[1]+"px",visibility:"visible"});}if(this.effects.fade.enabled){clearInterval(c.animatetimer);c.curanimatedegree=0;c.starttime=new Date().getTime();c.animatetimer=setInterval(function(){anylinkmenu.revealmenu(b);},20);}},revealmenu:function(b){var c=anylinkmenu.menusmap[b];var a=new Date().getTime()-c.starttime;if(a<this.effects.fade.duration){this.setopacity(c.dropmenu,c.curanimatedegree);if(this.effects.shadow.enabled){this.setopacity(c.shadow,c.curanimatedegree*this.effects.shadow.opacity);}}else{clearInterval(c.animatetimer);this.setopacity(c.dropmenu,1);c.dropmenu.style.filter="";}c.curanimatedegree=(1-Math.cos((a/this.effects.fade.duration)*Math.PI))/2;},setcss:function(a){for(prop in a){this.style[prop]=a[prop];}},setcssclass:function(b,a,c){var d=new RegExp("(^|\\s+)"+a+"($|\\s+)","ig");if(c=="check"){return d.test(b.className);}else{if(c=="remove"){b.className=b.className.replace(d,"");}else{if(c=="add"&&!d.test(b.className)){b.className+=" "+a;}}}},hidemenu:function(a){var b=anylinkmenu.menusmap[a];clearInterval(b.animatetimer);b.dropmenu.setcss({visibility:"hidden",left:0,top:0});b.shadow.setcss({visibility:"hidden",left:0,top:0});},getElementsByClass:function(a){if(document.querySelectorAll){return document.querySelectorAll("."+a);}else{var e=new RegExp("(^|\\s+)"+a+"($|\\s+)","i");var d=[];var c=document.all?document.all:document.getElementsByTagName("*");for(var b=0;b<c.length;b++){if(typeof c[b].className=="string"&&c[b].className.search(e)!=-1){d[d.length]=c[b];}}return d;}},addDiv:function(d,c,a){var b=document.createElement("div");if(d){b.id=d;}b.className=c;if(a!=""&&typeof b.style.cssText=="string"){b.style.cssText=a;}else{if(a!=""){b.setAttribute("style",a);}}document.body.appendChild(b);return b;},getmenuHTML:function(c){var a=[];var d="";for(var b=0;b<c.items.length;b++){d+='<li><a href="'+c.items[b][1]+'" target="'+c.linktarget+'">'+c.items[b][0]+"</a></li>\n";if(c.items[b][2]=="efc"||b==c.items.length-1){a.push(d);d="";}}if(typeof c.cols=="undefined"){return"<ul>\n"+a.join("")+"\n</ul>";}else{d="";for(var b=0;b<a.length;b++){d+='<div class="'+c.cols.divclass+'" style="'+c.cols.inlinestyle+'">\n<ul>\n'+a[b]+"</ul>\n</div>\n";}return d;}},addEvent:function(a,d,b){if(a.length>0){var c=a.shift();if(c.addEventListener){c.addEventListener(b,d,false);}else{if(c.attachEvent){c.attachEvent("on"+b,function(){return d.call(c,window.event);});}}this.addEvent(a,d,b);}},domready:function(a){if(dd_domreadycheck){a();return;}if(document.addEventListener){document.addEventListener("DOMContentLoaded",function(){document.removeEventListener("DOMContentLoaded",arguments.callee,false);a();dd_domreadycheck=true;},false);}else{if(document.attachEvent){if(document.documentElement.doScroll&&window==window.top){(function(){if(dd_domreadycheck){return;}try{document.documentElement.doScroll("left");}catch(b){setTimeout(arguments.callee,0);return;}a();dd_domreadycheck=true;})();}}}if(document.attachEvent&&parent.length>0){this.addEvent([window],function(){a();},"load");}},addState:function(a,b){if(a.getAttribute("data-image")){var c=(a.tagName=="IMG")?a:a.getElementsByTagName("img")[0];if(c){c.src=(b=="add")?a.getAttribute("data-overimage"):a.getAttribute("data-image");}}else{anylinkmenu.setcssclass(a,"selectedanchor",b);}},addState:function(a,b){if(a.getAttribute("data-image")){var c=(a.tagName=="IMG")?a:a.getElementsByTagName("img")[0];if(c){c.src=(b=="add")?a.getAttribute("data-overimage"):a.getAttribute("data-image");}}else{anylinkmenu.setcssclass(a,"selectedanchor",b);}},setupmenu:function(a,d,g){this.standardbody=(document.compatMode=="CSS1Compat")?document.documentElement:document.body;var b=d.getAttribute("rel");dropmenuid=b.replace(/\[(\w+)\]/,"");var c=window[dropmenuid];var f=this.addDiv(null,c.divclass,c.inlinestyle);f.innerHTML=this.getmenuHTML(c);var e=this.menusmap[a+g]={id:a+g,anchorobj:d,dropmenu:f,revealtype:(b.length!=dropmenuid.length&&RegExp.$1=="click")||anylinkmenu.ismobile?"click":"mouseover",orientation:d.getAttribute("rev")=="lr"?"lr":"ud",shadow:this.addDiv(null,"anylinkshadow",null)};e.anchorobj._internalID=a+g;e.anchorobj._isanchor=true;e.dropmenu._internalID=a+g;e.shadow._internalID=a+g;e.dropmenu.setcss=this.setcss;e.shadow.setcss=this.setcss;e.shadow.setcss({width:e.dropmenu.offsetWidth+"px",height:e.dropmenu.offsetHeight+"px"});this.setopacity(e.shadow,this.effects.shadow.opacity);this.addEvent([e.anchorobj,e.dropmenu,e.shadow],function(h){var i=anylinkmenu.menusmap[this._internalID];if(this._isanchor&&i.revealtype=="mouseover"&&!anylinkmenu.isContained(this,h)){anylinkmenu.showmenu(i.id);anylinkmenu.addState(this,"add");}else{if(typeof this._isanchor=="undefined"){clearTimeout(i.hidetimer);}}},"mouseover");this.addEvent([e.anchorobj,e.dropmenu,e.shadow],function(h){if(!anylinkmenu.isContained(this,h)){var i=anylinkmenu.menusmap[this._internalID];i.hidetimer=setTimeout(function(){anylinkmenu.addState(i.anchorobj,"remove");anylinkmenu.hidemenu(i.id);},anylinkmenu.effects.delayhide);}},"mouseout");this.addEvent([e.anchorobj,e.dropmenu],function(h){var i=anylinkmenu.menusmap[this._internalID];if(this._isanchor&&i.revealtype=="click"){if(i.dropmenu.style.visibility=="visible"){anylinkmenu.hidemenu(i.id);}else{anylinkmenu.addState(this,"add");anylinkmenu.showmenu(i.id);}if(h.preventDefault){h.preventDefault();}return false;}else{i.hidetimer=setTimeout(function(){anylinkmenu.hidemenu(i.id);},anylinkmenu.effects.delayhide);}},"click");},init:function(a){this.domready(function(){anylinkmenu.trueinit(a);});},trueinit:function(a){var d=this.getElementsByClass(a);var b=this.preloadimages;for(var c=0;c<d.length;c++){if(d[c].getAttribute("data-image")){b[b.length]=new Image();b[b.length-1].src=d[c].getAttribute("data-image");}if(d[c].getAttribute("data-overimage")){b[b.length]=new Image();b[b.length-1].src=d[c].getAttribute("data-overimage");}this.setupmenu(a,d[c],c);}}};var calendarmenu={divclass:"anylinkmenu",inlinestyle:"",linktarget:""};calendarmenu.items=[["<img src='images/social/TB_btn_Outlook.png' />Outlook","http://www.link.com/"],["<img src='images/social/ical.png' />iCal","http://www.link.com/"],["<img src='images/social/icon_google.png' />Google","http://www.link.com/"]];var sharemenu={divclass:"anylinkmenu2",inlinestyle:"",linktarget:""};sharemenu.items=[["<img src='images/social/facebook_2.png' />Facebook","http://www.link.com/"],["<img src='images/social/twitter_2.png' />Twitter","http://www.link.com/"],["<img src='images/social/myspace24.png' />mySpace","http://www.link.com/"],["<img src='images/social/email_24.png' />Email","http://www.link.com/"]];anylinkmenu.init("menuanchorclass");