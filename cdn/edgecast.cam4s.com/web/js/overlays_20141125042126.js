var Overlays={opened:[],reloadAvatar:function(){if(document.getElementById("avatarFrame")){var a=document.getElementById("avatarFrame");a.src=a.src;return true;}return false;},addMessageOption:function(b,e,d,c){var a=document.createElement("OPTION");a.text=e;a.value=d;if(c){a.selected=true;}b.options.add(a);},open:function(b,a){if(Cam4User.useResponsiveLayout&&Cam4User.isViewer()){$j(".overlayWrap ").css("top","219px");}if(Overlays.opened[b]===true){Overlays.opened[b]=false;Overlays.closeAll();return;}else{Overlays.closeAll();}if(document.getElementById("overlayWrap"+b)&&b!==0){document.getElementById("overlayWrap"+b).style.display="block";}if(a){if(document.getElementById(a)){if($j("#"+a).hasClass("ovIcon")){$j("#"+a).removeClass("ovIcon");$j("#"+a).addClass("ovIconHover");}else{$j("#"+a).removeClass("ovIconHover");$j("#"+a).addClass("ovIcon");}}}else{if(document.getElementById("li"+b)){if($j("#li"+b).hasClass("ovIcon")){$j("#li"+b).removeClass("ovIcon");$j("#li"+b).addClass("ovIconHover");}else{$j("#li"+b).removeClass("ovIconHover");$j("#li"+b).addClass("ovIcon");}}}Overlays.opened[b]=true;},closeAll:function(c){var b=1;while(document.getElementById("overlayWrap"+b)){document.getElementById("overlayWrap"+b).style.display="none";if(document.getElementById("li"+b)){$j("#li"+b).removeClass("ovIconHover");$j("#li"+b).addClass("ovIcon");}b++;}for(var d in Overlays.opened){Overlays.opened[d]=false;}},openPrivateMessage:function(b,a){Overlays.reloadAvatar();Overlays.open(b);if(Cam4User.isPayingMember()||(b==2&&Cam4User.userFeatures.C4BND_PRIVATE_MESSAGE)||(b==4&&Cam4User.userFeatures.C4BND_ENHANCED_CHAT)||Cam4User.isBroadcastingWindow==true||Cam4User.isSubscribedToFanClub()){console.log("user IS gold");document.getElementById(a).innerHTML="";var d=getRoomUsers();var f=document.getElementById(a);if((d==null)||(d.length==0)){Overlays.addMessageOption(f,"loading","loading",true);}else{for(var c=0;c<d.length;c++){var e=false;if(d[c]==room){e=true;}Overlays.addMessageOption(f,d[c],d[c],e);}}}else{console.log("user not gold");}},goFullScreen:function(){if(Cam4User.isPayingMember()||Cam4User.userFeatures.C4BND_FULL_SCREEN||Cam4User.isBroadcastingWindow==true){Overlays.closeAll();cam4FullScreen();}else{Overlays.open(3);}},sendPrivateMessage:function(){var c=document.getElementById("roomList").options[document.getElementById("roomList").selectedIndex].text;var b=document.getElementById("privateMessageText").value;var a=cam4msgPrivate(c,b);document.getElementById("privateMessageText").value="";if(a){Overlays.open(2);}},ignoreUser:function(){if(Cam4User.isPayingMember()||Cam4User.userFeatures.C4BND_ENHANCED_CHAT){var a=document.getElementById("userBlist").options[document.getElementById("userBlist").selectedIndex].text;cam4IgnoreUser(a);Overlays.open(4);}}};Cam4Event.addEventListener(Cam4Event.MODAL_OPENED,function(){Overlays.closeAll();});